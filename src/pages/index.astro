---
import BaseLayout from '@/layouts/BaseLayout.astro';
import NewsletterForm from '@/components/react/NewsletterForm';
import ThemeToggle from '@/components/react/ThemeToggle';
import LanguageSwitcher from '@/components/react/LanguageSwitcher';
import ProgressBar from '@/components/react/ProgressBar';
import { getLocaleFromUrl, getLocalizedPath } from '@/lib/i18n';
import en from '@/locales/en';
import fr from '@/locales/fr';
import de from '@/locales/de';
import es from '@/locales/es';
import it from '@/locales/it';
import nl from '@/locales/nl';

const locale = getLocaleFromUrl(Astro.url) || 'en';

// Generate language URLs for the language switcher
const languageUrls = {
  en: getLocalizedPath('/', 'en'),
  fr: getLocalizedPath('/', 'fr'),
  de: getLocalizedPath('/', 'de'),
  es: getLocalizedPath('/', 'es'),
  it: getLocalizedPath('/', 'it'),
  nl: getLocalizedPath('/', 'nl'),
};

// Get the correct translations based on locale
const translations = {
  en,
  fr,
  de,
  es,
  it,
  nl,
};

const t = translations[locale as keyof typeof translations] || en;

// SEO-optimized keywords for TCG market
const keywords = [
  'trading card game platform',
  'TCG collection manager',
  'European card marketplace',
  'digital card trading',
  'TCG price tracker',
  'card inventory system',
  'collectible card database',
  'TCG community platform',
  'card trading app',
  'European TCG market',
];

const features = [
  {
    icon: 'üì±',
    title: t.underConstruction.features.mobile.title,
    description: t.underConstruction.features.mobile.description,
    benefits: ['Real-time sync', 'Offline access', 'Push notifications'],
  },
  {
    icon: 'üìö',
    title: t.underConstruction.features.collection.title,
    description: t.underConstruction.features.collection.description,
    benefits: ['Smart organization', 'Advanced filters', 'Detailed analytics'],
  },
  {
    icon: 'üåç',
    title: t.underConstruction.features.marketplace.title,
    description: t.underConstruction.features.marketplace.description,
    benefits: ['Secure trading', 'Price tracking', 'Market insights'],
  },
  {
    icon: 'üîí',
    title: t.underConstruction.features.privacy.title,
    description: t.underConstruction.features.privacy.description,
    benefits: ['GDPR compliant', 'Encrypted data', 'Privacy controls'],
  },
  {
    icon: 'üó£Ô∏è',
    title: t.underConstruction.features.multilingual.title,
    description: t.underConstruction.features.multilingual.description,
    benefits: ['6 languages', 'Local support', 'Cultural adaptation'],
  },
];

const progressItems = [
  { name: t.underConstruction.progress.design, progress: 85, color: 'bg-blue-500' },
  { name: t.underConstruction.progress.backend, progress: 60, color: 'bg-green-500' },
  { name: t.underConstruction.progress.mobile, progress: 40, color: 'bg-purple-500' },
  { name: t.underConstruction.progress.testing, progress: 25, color: 'bg-orange-500' },
  { name: t.underConstruction.progress.launch, progress: 10, color: 'bg-red-500' },
];

// Enhanced structured data for better SEO
const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'WebPage',
  name: t.underConstruction.title,
  description: t.underConstruction.description,
  mainEntity: {
    '@type': 'SoftwareApplication',
    name: 'EuroTCG',
    applicationCategory: 'CollectionApplication',
    applicationSubCategory: 'Trading Card Game Management',
    operatingSystem: ['iOS', 'Android', 'Web'],
    description: t.underConstruction.description,
    offers: {
      '@type': 'Offer',
      price: '0',
      priceCurrency: 'EUR',
      availability: 'InStock',
    },
    author: {
      '@type': 'Organization',
      name: 'EuroTCG Team',
    },
    featureList: features.map(f => f.title),
    audience: {
      '@type': 'Audience',
      audienceType: 'TCG Collectors and Traders',
    },
  },
};
---

<BaseLayout
  title={t.underConstruction.title}
  description={t.underConstruction.description}
  locale={locale}
  structuredData={structuredData}
  keywords={keywords}
>
  <!-- Professional Navigation Header -->
  <header
    class="border-border bg-background/95 supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 border-b backdrop-blur"
  >
    <div class="container mx-auto px-4">
      <div class="flex h-16 items-center justify-between">
        <!-- Logo Section -->
        <div class="flex items-center space-x-4">
          <div
            class="from-primary to-primary/80 text-primary-foreground flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br text-xl font-bold shadow-lg"
          >
            E
          </div>
          <div class="flex flex-col">
            <span class="text-foreground text-xl font-bold">EuroTCG</span>
            <span class="text-muted-foreground text-xs">European Trading Platform</span>
          </div>
        </div>

        <!-- Navigation Items (for future use) -->
        <nav class="hidden items-center space-x-6 md:flex">
          <a
            href="#features"
            class="text-muted-foreground hover:text-foreground text-sm font-medium transition-colors"
            >Features</a
          >
          <a
            href="#progress"
            class="text-muted-foreground hover:text-foreground text-sm font-medium transition-colors"
            >Progress</a
          >
          <a
            href="#community"
            class="text-muted-foreground hover:text-foreground text-sm font-medium transition-colors"
            >Community</a
          >
        </nav>

        <!-- Controls -->
        <div class="flex items-center gap-3">
          <LanguageSwitcher client:load currentLocale={locale} languageUrls={languageUrls} />
          <ThemeToggle client:load />
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="relative">
    <!-- Hero Section with TCGPlayer-inspired design -->
    <section
      class="from-background via-background to-muted/20 relative overflow-hidden bg-gradient-to-br"
    >
      <!-- Background Elements -->
      <div class="absolute inset-0">
        <div class="bg-primary/5 absolute left-1/4 top-1/4 h-72 w-72 rounded-full blur-3xl"></div>
        <div class="bg-accent/5 absolute bottom-1/4 right-1/4 h-96 w-96 rounded-full blur-3xl">
        </div>
      </div>

      <div class="container mx-auto px-4 py-20 lg:py-32">
        <div class="mx-auto max-w-4xl text-center">
          <!-- Status Badge -->
          <div
            class="border-primary/20 bg-primary/10 text-primary mb-8 inline-flex items-center gap-2 rounded-full border px-6 py-3 text-sm font-medium"
          >
            <div class="bg-primary relative h-2 w-2 rounded-full">
              <div class="bg-primary absolute inset-0 animate-ping rounded-full"></div>
            </div>
            {t.underConstruction.comingSoon}
          </div>

          <!-- Main Heading -->
          <h1
            class="text-foreground mb-6 text-5xl font-bold tracking-tight sm:text-6xl lg:text-7xl"
          >
            <span class="from-primary to-accent bg-gradient-to-r bg-clip-text text-transparent">
              Europe's Premier
            </span>
            <br />
            <span class="text-foreground">TCG Platform</span>
          </h1>

          <!-- Value Proposition -->
          <p
            class="text-muted-foreground mx-auto mb-8 max-w-3xl text-xl leading-relaxed sm:text-2xl"
          >
            The ultimate collection manager and marketplace for European trading card game
            enthusiasts
          </p>

          <!-- Key Benefits -->
          <div class="mx-auto mb-12 grid max-w-3xl grid-cols-1 gap-6 md:grid-cols-3">
            <div class="text-center">
              <div class="mb-2 text-2xl">üöÄ</div>
              <p class="text-foreground text-sm font-medium">Launch Q2 2025</p>
            </div>
            <div class="text-center">
              <div class="mb-2 text-2xl">üåç</div>
              <p class="text-foreground text-sm font-medium">6 European Languages</p>
            </div>
            <div class="text-center">
              <div class="mb-2 text-2xl">üÜì</div>
              <p class="text-foreground text-sm font-medium">Free to Use</p>
            </div>
          </div>

          <!-- Newsletter Signup -->
          <div class="mb-8">
            <NewsletterForm client:load locale={locale} />
          </div>

          <!-- Early Access Info -->
          <p class="text-muted-foreground text-sm">
            Join <span class="text-primary font-semibold">500+</span> collectors already waiting for
            early access
          </p>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="bg-muted/20 py-20 lg:py-32">
      <div class="container mx-auto px-4">
        <div class="mb-16 text-center">
          <h2 class="text-foreground mb-4 text-3xl font-bold sm:text-4xl">
            Built for Modern TCG Collectors
          </h2>
          <p class="text-muted-foreground mx-auto max-w-2xl text-lg">
            Everything you need to manage, trade, and track your trading card collection in one
            powerful platform
          </p>
        </div>

        <div class="mx-auto grid max-w-7xl gap-8 lg:grid-cols-2 xl:grid-cols-3">
          {
            features.map((feature, index) => (
              <article class="border-border bg-card group relative rounded-2xl border p-8 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-lg">
                <div class="mb-6 text-4xl">{feature.icon}</div>
                <h3 class="text-card-foreground mb-3 text-xl font-semibold">{feature.title}</h3>
                <p class="text-muted-foreground mb-6 leading-relaxed">{feature.description}</p>
                <ul class="space-y-2">
                  {feature.benefits.map(benefit => (
                    <li class="text-muted-foreground flex items-center text-sm">
                      <svg
                        class="text-primary mr-2 h-4 w-4 flex-shrink-0"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                          clip-rule="evenodd"
                        />
                      </svg>
                      {benefit}
                    </li>
                  ))}
                </ul>
              </article>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Progress Section -->
    <section id="progress" class="py-20 lg:py-32">
      <div class="container mx-auto px-4">
        <div class="mx-auto max-w-4xl">
          <div class="mb-16 text-center">
            <h2 class="text-foreground mb-4 text-3xl font-bold sm:text-4xl">
              Development Progress
            </h2>
            <p class="text-muted-foreground text-lg">
              Track our journey as we build the future of European TCG trading
            </p>
          </div>

          <div class="space-y-8">
            {
              progressItems.map((item, index) => (
                <div class="relative">
                  <div class="mb-3 flex items-center justify-between">
                    <h3 class="text-foreground font-semibold">{item.name}</h3>
                    <span class="text-muted-foreground text-sm font-medium">{item.progress}%</span>
                  </div>
                  <ProgressBar
                    client:load
                    label={item.name}
                    progress={item.progress}
                    delay={200 + index * 100}
                    className="h-3"
                  />
                </div>
              ))
            }
          </div>

          <div class="mt-12 text-center">
            <p class="text-primary mb-2 text-sm font-medium">
              {t.underConstruction.estimatedLaunch}
            </p>
            <div class="flex justify-center">
              <div class="from-primary to-accent h-1 w-48 rounded-full bg-gradient-to-r"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Community Section -->
    <section id="community" class="bg-muted/20 py-20 lg:py-32">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-foreground mb-4 text-3xl font-bold sm:text-4xl">Join the Community</h2>
        <p class="text-muted-foreground mx-auto mb-12 max-w-2xl text-lg">
          Connect with fellow collectors, stay updated on development, and be first to access new
          features
        </p>

        <div class="mx-auto mb-12 grid max-w-4xl grid-cols-1 gap-6 md:grid-cols-3">
          <a
            href="https://discord.gg/eurotcg"
            class="border-border bg-card hover:bg-accent/5 group flex flex-col items-center rounded-2xl border p-8 transition-all duration-300 hover:-translate-y-1"
            aria-label="Join our Discord community"
          >
            <div
              class="mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-[#5865F2] transition-transform group-hover:scale-110"
            >
              <svg class="h-8 w-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"
                ></path>
              </svg>
            </div>
            <h3 class="text-foreground mb-2 font-semibold">Discord</h3>
            <p class="text-muted-foreground text-sm">Real-time chat & updates</p>
          </a>

          <a
            href="https://twitter.com/eurotcg"
            class="border-border bg-card hover:bg-accent/5 group flex flex-col items-center rounded-2xl border p-8 transition-all duration-300 hover:-translate-y-1"
            aria-label="Follow us on Twitter"
          >
            <div
              class="mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-[#1DA1F2] transition-transform group-hover:scale-110"
            >
              <svg class="h-8 w-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"
                ></path>
              </svg>
            </div>
            <h3 class="text-foreground mb-2 font-semibold">Twitter</h3>
            <p class="text-muted-foreground text-sm">Latest news & announcements</p>
          </a>

          <a
            href="https://github.com/eurotcg"
            class="border-border bg-card hover:bg-accent/5 group flex flex-col items-center rounded-2xl border p-8 transition-all duration-300 hover:-translate-y-1"
            aria-label="Follow us on GitHub"
          >
            <div
              class="mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-[#333] transition-transform group-hover:scale-110"
            >
              <svg class="h-8 w-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                ></path>
              </svg>
            </div>
            <h3 class="text-foreground mb-2 font-semibold">GitHub</h3>
            <p class="text-muted-foreground text-sm">Open source development</p>
          </a>
        </div>

        <div class="text-center">
          <h3 class="text-foreground mb-4 text-lg font-semibold">Get in Touch</h3>
          <a
            href="mailto:hello@eurotcg.com"
            class="bg-primary text-primary-foreground hover:bg-primary/90 inline-flex items-center justify-center rounded-lg px-8 py-3 text-sm font-medium transition-colors"
          >
            Contact Us
          </a>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style>
  /* Enhanced animations and effects */
  @keyframes pulse-ring {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }

  .animate-pulse-ring {
    animation: pulse-ring 2s ease-out infinite;
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Focus styles for accessibility */
  :focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
  }

  /* Better hover effects */
  .hover-lift {
    transition: transform 0.2s ease-out;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
  }
</style>
